{
  "id": "ghostty-architecture",
  "title": "Ghostty Architecture Overview",
  "description": "Understand the architectural decisions and patterns in the Ghostty terminal emulator",
  "version": "1.0.0",
  "audience": "Engineers & Architects",
  "steps": [
    {
      "id": "step-1-layered-architecture",
      "title": "Ghostty's Layered Architecture",
      "description": "Ghostty follows a clean layered architecture with clear separation of concerns between platform abstraction, terminal emulation, and user interface.",
      "estimatedTime": 120,
      "highlightLayers": [
        {
          "id": "ui-layer",
          "name": "Platform UI Layer",
          "color": "#10b981",
          "items": [
            {
              "path": "src/apprt",
              "type": "directory"
            },
            {
              "path": "macos",
              "type": "directory"
            }
          ],
          "opacity": 0.6,
          "borderWidth": 2
        },
        {
          "id": "app-layer",
          "name": "Application Layer",
          "color": "#f59e0b",
          "items": [
            {
              "path": "src/App.zig",
              "type": "file"
            },
            {
              "path": "src/Command.zig",
              "type": "file"
            },
            {
              "path": "src/config",
              "type": "directory"
            }
          ],
          "opacity": 0.6,
          "borderWidth": 2
        },
        {
          "id": "terminal-layer",
          "name": "Terminal Engine Layer",
          "color": "#ef4444",
          "items": [
            {
              "path": "src/terminal",
              "type": "directory"
            },
            {
              "path": "src/termio",
              "type": "directory"
            },
            {
              "path": "src/Surface.zig",
              "type": "file"
            }
          ],
          "opacity": 0.6,
          "borderWidth": 2
        },
        {
          "id": "system-layer",
          "name": "System Abstraction Layer",
          "color": "#8b5cf6",
          "items": [
            {
              "path": "src/os",
              "type": "directory"
            },
            {
              "path": "src/font",
              "type": "directory"
            },
            {
              "path": "src/renderer",
              "type": "directory"
            }
          ],
          "opacity": 0.6,
          "borderWidth": 2
        }
      ],
      "colorMode": "fileTypes"
    },
    {
      "id": "step-2-data-flow",
      "title": "Data Flow Architecture",
      "description": "How data flows through Ghostty from user input to terminal output and rendering.",
      "estimatedTime": 150,
      "focusDirectory": "src",
      "highlightLayers": [
        {
          "id": "input-flow",
          "name": "Input Processing",
          "color": "#06b6d4",
          "items": [
            {
              "path": "src/input",
              "type": "directory"
            },
            {
              "path": "src/surface_mouse.zig",
              "type": "file"
            }
          ],
          "opacity": 0.7,
          "borderWidth": 2
        },
        {
          "id": "terminal-flow",
          "name": "Terminal Processing",
          "color": "#f97316",
          "items": [
            {
              "path": "src/termio",
              "type": "directory"
            },
            {
              "path": "src/pty.zig",
              "type": "file"
            }
          ],
          "opacity": 0.7,
          "borderWidth": 2
        },
        {
          "id": "render-flow",
          "name": "Rendering Pipeline",
          "color": "#84cc16",
          "items": [
            {
              "path": "src/renderer",
              "type": "directory"
            },
            {
              "path": "src/Surface.zig",
              "type": "file"
            }
          ],
          "opacity": 0.7,
          "borderWidth": 2
        }
      ],
      "colorMode": "fileTypes"
    },
    {
      "id": "step-3-platform-abstraction",
      "title": "Platform Abstraction Strategy",
      "description": "How Ghostty achieves cross-platform compatibility through careful abstraction layers.",
      "estimatedTime": 120,
      "highlightLayers": [
        {
          "id": "platform-abstractions",
          "name": "Platform Abstractions",
          "color": "#3b82f6",
          "items": [
            {
              "path": "src/apprt",
              "type": "directory"
            },
            {
              "path": "src/os",
              "type": "directory"
            },
            {
              "path": "src/font",
              "type": "directory"
            }
          ],
          "opacity": 0.7,
          "borderWidth": 2
        },
        {
          "id": "platform-implementations",
          "name": "Platform-Specific Code",
          "color": "#dc2626",
          "items": [
            {
              "path": "macos",
              "type": "directory"
            },
            {
              "path": "src/apprt/gtk",
              "type": "directory"
            }
          ],
          "opacity": 0.7,
          "borderWidth": 2
        }
      ],
      "colorMode": "fileTypes"
    },
    {
      "id": "step-4-performance-architecture",
      "title": "Performance & Optimization Architecture",
      "description": "Key architectural decisions that enable Ghostty's high performance.",
      "estimatedTime": 120,
      "highlightLayers": [
        {
          "id": "performance-critical",
          "name": "Performance-Critical Components",
          "color": "#eab308",
          "items": [
            {
              "path": "src/simd",
              "type": "directory"
            },
            {
              "path": "src/datastruct",
              "type": "directory"
            },
            {
              "path": "src/fastmem.zig",
              "type": "file"
            }
          ],
          "opacity": 0.7,
          "borderWidth": 2
        },
        {
          "id": "rendering-optimizations",
          "name": "Rendering Optimizations",
          "color": "#a855f7",
          "items": [
            {
              "path": "src/renderer",
              "type": "directory"
            },
            {
              "path": "src/Surface.zig",
              "type": "file"
            }
          ],
          "opacity": 0.7,
          "borderWidth": 2
        }
      ],
      "colorMode": "fileTypes"
    },
    {
      "id": "step-5-build-architecture",
      "title": "Build System Architecture",
      "description": "How Ghostty's build system orchestrates compilation across different platforms and targets.",
      "estimatedTime": 90,
      "highlightLayers": [
        {
          "id": "build-core",
          "name": "Build System Core",
          "color": "#059669",
          "items": [
            {
              "path": "build.zig",
              "type": "file"
            },
            {
              "path": "src/build",
              "type": "directory"
            }
          ],
          "opacity": 0.7,
          "borderWidth": 2
        },
        {
          "id": "build-targets",
          "name": "Build Targets & Outputs",
          "color": "#7c3aed",
          "items": [
            {
              "path": "src/build/GhosttyExe.zig",
              "type": "file"
            },
            {
              "path": "src/build/GhosttyLib.zig",
              "type": "file"
            },
            {
              "path": "src/build/GhosttyLibVt.zig",
              "type": "file"
            }
          ],
          "opacity": 0.7,
          "borderWidth": 2
        }
      ],
      "colorMode": "fileTypes"
    }
  ],
  "metadata": {
    "author": "Ghostty Architecture Team",
    "createdAt": "2026-02-06T00:54:00.000Z",
    "tags": [
      "architecture",
      "terminal-emulator",
      "zig",
      "performance",
      "cross-platform"
    ]
  }
}